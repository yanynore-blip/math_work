<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Платформа — домашние задания</title>
  <style>
    body{font-family: system-ui, Arial, sans-serif; max-width:880px; margin:36px auto; padding:20px; color:#111}
    header{display:flex;align-items:center;gap:12px}
    h1{margin:0;font-size:20px}
    p.small{color:#666;margin:8px 0 18px}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
    .card{padding:14px;border-radius:10px;border:1px solid #eee;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.03)}
    a.btn{display:inline-block;padding:10px 12px;border-radius:8px;background:#2d8cff;color:#fff;text-decoration:none}
    label{display:block;margin-top:12px;font-weight:600}
    input[type=text]{width:100%;padding:8px;border:1px solid #ddd;border-radius:6px}
    .hint{font-size:13px;color:#666;margin-top:8px}
    footer{margin-top:24px;font-size:13px;color:#666}
  </style>
</head>
<body>
  <header>
    <h1>Платформа для ДЗ — простая версия</h1>
  </header>

  <p class="small">Используй кнопки ниже: <b>Страница учителя</b> — загрузка PNG и вопросов; <b>Страница ученика</b> — просмотр задания и ввод дробных ответов (числитель/знаменатель).</p>

  <div class="cards">
    <div class="card">
      <h3>Страница учителя</h3>
      <p class="hint">Загрузить PNG и задать вопросы.</p>
      <p><a class="btn" href="./teacher.html" target="_blank" rel="noopener">Открыть teacher.html</a></p>
    </div>

    <div class="card">
      <h3>Страница ученика</h3>
      <p class="hint">Страница по умолчанию показывает последнее задание (getLatest).</p>
      <p><a class="btn" href="./student.html" target="_blank" rel="noopener">Открыть student.html</a></p>
    </div>

    <div class="card">
      <h3>Открыть конкретное задание</h3>
      <p class="hint">Если хочешь открыть определённое задание — вставь assignmentId ниже и нажми «Открыть».</p>
      <label>assignmentId</label>
      <input id="aid" placeholder="Вставь сюда assignmentId, который вернул teacher.html">
      <div style="margin-top:10px">
        <a id="openById" class="btn" href="#" onclick="openById(event)">Открыть</a>
      </div>
      <p class="hint" style="margin-top:8px">URL будет вида: <code>student.html?action=getById&id=ASSIGNMENT_ID</code></p>
    </div>
  </div>

  <footer>
    <div>Важное: в обоих файлах (<code>teacher.html</code> и <code>student.html</code>) должен быть правильно подставлен <b>WEB_APP_URL</b> — URL твоего Apps Script (Deploy → Web app). Если студент не видит задание, проверь права доступа в Apps Script (Execute as: Me, Who has access: Anyone).</div>
  </footer>

<script>
function openById(e){
  e.preventDefault();
  const id = document.getElementById('aid').value.trim();
  if(!id){ alert('Вставь assignmentId'); return; }
  const url = './student.html?action=getById&id=' + encodeURIComponent(id);
  window.open(url, '_blank');
}
</script>
</body>
</html>
